import{d as h,G as b,u as g,a as x,m as w,q as u,c as y,b as e,v as p,A as k,I as _,o as C,p as S,j as I,_ as V}from"./index-1e027014.js";import{a as L}from"./axios-4a70c6fc.js";const s=r=>(S("data-v-ccd85ffe"),r=r(),I(),r),B={class:"create-wrapper"},M={class:"content-wrapper"},U=s(()=>e("div",{class:"header"},[e("p",{class:"title"},"新增梅克獅")],-1)),q={class:"content"},A={class:"name-wrapper"},N=s(()=>e("label",{for:"lion-name"},"名稱",-1)),j={class:"sex-wrapper"},D=s(()=>e("label",{class:"label",for:"lion-sex"},"性別",-1)),E=s(()=>e("option",{value:"",disabled:""},"請選擇性別",-1)),G=["value"],O=["value"],R={class:"occupation-wrapper"},T=s(()=>e("label",{class:"label",for:"lion-occupation"},"職業",-1)),z=s(()=>e("option",{value:"",disabled:""},"請選擇職業",-1)),F=["value"],H=["value"],J=["value"],K=["value"],P=["value"],Q=h({__name:"CreateView",setup(r){const d=b(),a=g(),v=x();w(()=>{v.lionInfo.id===0&&d.replace("/questionnaire"),a.handleLoading("off",1e3)});const n=u(""),l=u(""),i=u(""),m=async()=>{if(n.value===""||l.value===""||i.value===""){a.message("warning","請確實填寫每個欄位！");return}let t=0;switch(i.value){case"farmer":t=1;break;case"engineer":t=2;break;case"fisher":t=3;break;case"actuary":t=4;break;case"designer":t=5;break}try{await L.post("/lions",{name:n.value,gender:l.value==="male"?"boy":"girl",occupation_id:t},a.axiosConfig),a.message("success","角色建立成功！"),a.isLoading=!0,d.replace("/")}catch(o){console.error(o),a.message("error","角色建立失敗，請再次嘗試！")}},f=()=>{n.value="",l.value="",i.value="",a.isLoading=!0,d.replace("/")};return(t,o)=>(C(),y("section",B,[e("div",M,[U,e("div",q,[e("div",A,[N,p(e("input",{type:"text",name:"lion-name",id:"lion-name",maxlength:"8",placeholder:"請輸入名稱","onUpdate:modelValue":o[0]||(o[0]=c=>n.value=c)},null,512),[[k,n.value]])]),e("div",j,[D,p(e("select",{name:"lion-sex",id:"lion-sex","onUpdate:modelValue":o[1]||(o[1]=c=>l.value=c)},[E,e("option",{value:"male"},"公獅",8,G),e("option",{value:"female"},"母獅",8,O)],512),[[_,l.value]])]),e("div",R,[T,p(e("select",{name:"lion-occupation",id:"lion-occupation","onUpdate:modelValue":o[2]||(o[2]=c=>i.value=c)},[z,e("option",{value:"farmer"},"小農獅",8,F),e("option",{value:"fisher"},"小漁獅",8,H),e("option",{value:"engineer"},"工程獅",8,J),e("option",{value:"actuary"},"精算獅",8,K),e("option",{value:"designer"},"設計獅",8,P)],512),[[_,i.value]])])]),e("div",{class:"footer"},[e("button",{type:"button",class:"btn btn-create",onClick:m},"新增"),e("button",{type:"button",class:"btn btn-reset",onClick:f},"取消")])])]))}});const Y=V(Q,[["__scopeId","data-v-ccd85ffe"]]);export{Y as default};
